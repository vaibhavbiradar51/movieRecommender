{% extends "layout.html" %}
{% block body %}
<div style="background-image: url('../static/images/seats.jpg'); background-repeat: repeat;background-size: 1000px 800px;">
    <br><br><br><br><br>
<div class="page" style="opacity: 0.9; background-color: black; border: 5px solid #ffcccc;">
{% block title %}
{% endblock %}
<br><br>

<form action="{{url_for('search' + keyword)}}" method="post">
  <label><h2 style="color: #ffcccc; border-bottom: none;">Enter Keyword: </h2></label>
  <input type="text" name="keyword" style="background-color: black; color: white; border: 1px solid white; margin-left: 15px;font-size: 20px;"><br><br>
  <input type="submit" style="background-color: black; color: white; border: 1px solid white;font-size: 20px;">
</form>
<br>
<h3>
  Your search results:
</h3>
<br>
<table id="names" class="display" style="width:100%">
  <thead>
      <th style="background-color: #ffcccc;">
          Name
      </th>
      <th style="background-color: #ffcccc;">
        Latest Movies
    </th>
  </thead>
  <tbody>
      {%for user in users%}
      <tr>
          <td>
              {{user.name}}
          </td>
          <td>
              {% if user.movieList|length > 0%}
            {% for movie in user.movieList %}
              <a href="{{url_for('movieDetails', id=movie.id)}}">{{movie.title}}</a>
            {% endfor %}
            {% else %}
            No movies associated
            {% endif %}
        </td>
      </tr>
      {% endfor %}
  </tbody>
</table>

<script>
  $(document).ready(function() {
      $('#names').DataTable();
  } );
</script>
</div>
<br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</div>
  {% endblock %}